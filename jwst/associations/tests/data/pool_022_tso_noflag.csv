# Pool.tso
#
# Dummy-upped pool to mimic basic Time-Series exposures
#
# Proposal: Completely fabricated
#
# OBS_NUM and AC_CANDIDATE must be computed and inserted. Other columns which also incorporate these values are not modified.
#
FILENAME|OBS_ID|PROGRAM|OBS_NUM|VISIT|VISIT_ID|VISITGRP|WFSVISIT|SEQ_ID|ACT_ID|EXPOSURE|EXP_TYPE|NEXPOSUR|EXPCOUNT|INSTRUME|DETECTOR|CHANNEL|TARGETID|TARGPROP|TARGNAME|TARGTYPE|TEMPLATE|PNTGTYPE|PNTG_SEQ|TARGORDN|EXPSPCIN|DITHPTIN|MOSTILNO|MODULE|FILTER|PUPIL|DITHERID|PATTTYPE|PATTSTRT|NUMDTHPT|PATTSIZE|SUBPXPNS|PATT_NUM|SUBPXNUM|SUBPIXEL|APERNAME|SDP_VER|SUBARRAY|GRATING|FXD_SLIT|BAND|ASN_CANDIDATE|BKGDTARG|IS_IMPRT|IS_PSF|TSOVISIT
#
# Initialize ACID. This is done with a dummy exposure that will not match any association
set acid|OBS_ID|PROGRAM|OBS_NUM|VISIT|VISIT_ID|VISITGRP|WFSVISIT|SEQ_ID|ACT_ID|EXPOSURE|EXP_TYPE|NEXPOSUR|EXPCOUNT|INSTRUME|DETECTOR|CHANNEL|TARGETID|TARGPROP|TARGNAME|TARGTYPE|TEMPLATE|PNTGTYPE|PNTG_SEQ|TARGORDN|EXPSPCIN|DITHPTIN|MOSTILNO|MODULE|FILTER|PUPIL|DITHERID|PATTTYPE|PATTSTRT|NUMDTHPT|PATTSIZE|SUBPXPNS|PATT_NUM|SUBPXNUM|SUBPIXEL|APERNAME|SDP_VER|SUBARRAY|GRATING|FXD_SLIT|BAND|@!next(acid)|BKGDTARG|IS_IMPRT|IS_PSF|TSOVISIT
#
#
# One exposure per instrument/mode
@!fmt_fname(next(expnum))|V99009003001P0000000002102|99009|@!next(obsnum)|1|99009003001|2|NULL|1|2|1|MIR_LRS-SLITLESS|NULL|NULL|MIRI|CENTRAL|NULL|1|M-33|NULL|FIXED|NIRISS WFSS|SCIENCE|2|1|1|1|1|NULL|F140M|NULL|NULL|NULL|NULL|NULL|NULL|NULL|NULL|NULL|NULL|NIS_CEN|2015_1|SLITLESSPRISM|NULL|NULL|NULL|@!fmt_cand([(next(obsnum), 'OBSERVATION')])|N|N|N|T
@!fmt_fname(next(expnum))|V99009003001P0000000002102|99009|@!next(obsnum)|1|99009003001|2|NULL|1|2|1|NIS_SOSS|NULL|NULL|NIRISS|CENTRAL|NULL|1|M-33|NULL|FIXED|NIRISS WFSS|SCIENCE|2|1|1|1|1|NULL|F140M|NULL|NULL|NULL|NULL|NULL|NULL|NULL|NULL|NULL|NULL|NIS_CEN|2015_1|FULL|NULL|NULL|NULL|@!fmt_cand([(next(obsnum), 'OBSERVATION')])|N|N|N|T
@!fmt_fname(next(expnum))|V99009003001P0000000002102|99009|@!next(obsnum)|1|99009003001|2|NULL|1|2|1|NRC_TSIMAGE|NULL|NULL|NIRCAM|CENTRAL|NULL|1|M-33|NULL|FIXED|NIRISS WFSS|SCIENCE|2|1|1|1|1|NULL|F140M|NULL|NULL|NULL|NULL|NULL|NULL|NULL|NULL|NULL|NULL|NIS_CEN|2015_1|FULL|NULL|NULL|NULL|@!fmt_cand([(next(obsnum), 'OBSERVATION')])|N|N|N|T
@!fmt_fname(next(expnum))|V99009003001P0000000002102|99009|@!next(obsnum)|1|99009003001|2|NULL|1|2|1|NRC_TSGRISM|NULL|NULL|NIRCAM|CENTRAL|NULL|1|M-33|NULL|FIXED|NIRISS WFSS|SCIENCE|2|1|1|1|1|NULL|F140M|NULL|NULL|NULL|NULL|NULL|NULL|NULL|NULL|NULL|NULL|NIS_CEN|2015_1|FULL|NULL|NULL|NULL|@!fmt_cand([(next(obsnum), 'OBSERVATION')])|N|N|N|T
@!fmt_fname(next(expnum))|V99009003001P0000000002102|99009|@!next(obsnum)|1|99009003001|2|NULL|1|2|1|NRS_BRIGHTOBJ|NULL|NULL|NIRSPEC|CENTRAL|NULL|1|M-33|NULL|FIXED|NIRISS WFSS|SCIENCE|2|1|1|1|1|NULL|F140M|NULL|NULL|NULL|NULL|NULL|NULL|NULL|NULL|NULL|NULL|NIS_CEN|2015_1|FULL|NULL|NULL|NULL|@!fmt_cand([(next(obsnum), 'OBSERVATION')])|N|N|N|T
#
# Set ACID to how many have been used.
set acid|OBS_ID|PROGRAM|OBS_NUM|VISIT|VISIT_ID|VISITGRP|WFSVISIT|SEQ_ID|ACT_ID|EXPOSURE|EXP_TYPE|NEXPOSUR|EXPCOUNT|INSTRUME|DETECTOR|CHANNEL|TARGETID|TARGPROP|TARGNAME|TARGTYPE|TEMPLATE|PNTGTYPE|PNTG_SEQ|TARGORDN|EXPSPCIN|DITHPTIN|MOSTILNO|MODULE|FILTER|PUPIL|DITHERID|PATTTYPE|PATTSTRT|NUMDTHPT|PATTSIZE|SUBPXPNS|PATT_NUM|SUBPXNUM|SUBPIXEL|APERNAME|SDP_VER|SUBARRAY|GRATING|FXD_SLIT|BAND|@!acid.set(acid.value)|BACKGROUND|IS_IMPRT|IS_PSF|TSOVISIT
