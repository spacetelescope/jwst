%YAML 1.1
---
$schema: "http://stsci.edu/schemas/yaml-schema/draft-01"
id: "http://stsci.edu/schemas/jwst_pipeline/logical-0.7.0"
title: >
  A model performing logical operations on arrays.

examples:
  -
    - If the input is less that 10, set its value to NaN.

    - |
        !<tag:stsci.edu:jwst_pipeline/logical-0.7.0>
          compareto: 10
          condition: LT
          value: .nan

allOf:
  - $ref: "tag:stsci.edu:asdf/transform/transform-1.1.0"
  - type: object
    properties:
      condition:
        description: |
          A string representing the logical operation,
          one of GT, LT, NE, EQ
        type: string
      compareto:
        description: |
          A number or ndarray to compare to using the condition.
          If ndarray then the input array, compareto and value should have the same shape.
        anyOf:
          - tag: "tag:stsci.edu:asdf/core/ndarray-*"
          - type: number
      value:
        description: |
          Value to substitute where condition is True.
        anyOf:
          - tag: "tag:stsci.edu:asdf/core/ndarray-*"
          - type: number
