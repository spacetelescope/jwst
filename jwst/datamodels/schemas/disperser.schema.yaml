%YAML 1.1
---
$schema: "http://stsci.edu/schemas/asdf/asdf-schema-1.0.0"
id: "http://stsci.edu/schemas/jwst_datamodel/disperser.schema"
title: NirSpec Disperser reference file model
allOf:
- $ref: referencefile.schema
- $ref: keyword_exptype.schema
- $ref: keyword_grating.schema
- $ref: keyword_pgrating.schema
- type: object
  properties:
    groovedensity:
      description: |
        Number of grooves per meter in a grating.
      type: number
    angle:
      description: |
        Prism angle (in degrees) between the front surface and the back surface.
      type: number
    gwa_tiltx:
      type: object
      description: |
        Grating Y tilt angle relative to mirror
      properties:
        temperatures:
          description: |
            Temperature where the GWA sensor calibration was obtained.
          type: array
          items:
            type: number
        tilt_model:
          description: |
            Relation THETA_Y vs GWA_X reading.  An instance of astropy.modeling.Model.
          type: object
        unit:
          anyOf:
            - type: string
            - $ref: http://stsci.edu/schemas/asdf/unit/unit-1.0.0
        zeroreadings:
          description: |
            Value of GWA sensor reading corresponding to disperser
            model parameters.
          type: array
          items:
            type: number
    gwa_tilty:
      type: object
      description: |
        Grating X tilt angle relative to mirror
      properties:
        temperatures:
          description: |
            Temperature where the GWA sensor calibration was obtained.
          type: array
          items:
            type: number
        tilt_model:
          description: |
            Relation THETA_Y vs GWA_X reading.  An instance of astropy.modeling.Model.
          type: object
        unit:
          anyOf:
            - type: string
            - $ref: http://stsci.edu/schemas/asdf/unit/unit-1.0.0
        zeroreadings:
          description: |
            Value of GWA sensor reading corresponding to disperser
            model parameters.
          type: array
          items:
            type: number
    kcoef:
      type: array
      description: |
        K coefficients to describe the material
      items:
        type: number
        minItems: 3
        maxItems: 3
    lcoef:
      type: array
      description: |
        L coefficients to describe the material
      items:
        type: number
        minItems: 3
        maxItems: 3
    tcoef:
      type: array
      description: |
        Constants (D0, D1, D2, E0, E1 and lambdak) to describe the thermal behavior of the glass.
      items:
        type: number
        minItems: 6
        maxItems: 6
    pref:
      description: |
        Pressure in ATM to compute the change in temperature relative to the
        reference temperature of the glass.
      type: number
      default: 1.0
    theta_x:
      description: |
        Element alignment angles in arcsec in x-axis.
      type: number
    theta_y:
      description: |
        Element alignment angles in arcsec in y-axis.
      type: number
    theta_z:
      description: |
        Element alignment angles in arcsec in z-axis.
      type: number
    tilt_x:
      type: number
    tilt_y:
      description: |
        Angle n deg between the front surface and the reference
        surface (MIRROR).
      type: number
    tref:
      description: |
        Temperature in K to compute the change in temperature relative to the
        reference temperature of the glass.
      type: number
    wbound:
      description: |
        Minimum and maximum wavelengths in meter (validity of the formula)
      type: array
      items:
        type: number
        minItems: 2
        maxItems: 2
    meta:
      type: object
      properties:
        wavelength_units:
          anyOf:
            - type: string
            - $ref: http://stsci.edu/schemas/asdf/unit/unit-1.0.0
