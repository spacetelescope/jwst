%YAML 1.1
---
$schema: "http://stsci.edu/schemas/fits-schema/fits-schema"
id: "http://stsci.edu/schemas/jwst_datamodel/core.schema"
type: object
properties:
  meta:
    type: object
    properties:
      date:
        title: "UTC date file created"
        type: string
        fits_keyword: DATE
        blend_table: True
      origin:
        title: Organization responsible for creating file
        type: string
        fits_keyword: ORIGIN
        blend_table: True
      time_sys:
        title: principal time system for time-related keywords
        type: string
        fits_keyword: TIMESYS
        blend_table: True
      time_unit:
        title: Default unit applicable to all time values
        type: string
        default: 's'
        fits_keyword: TIMEUNIT
      filename:
        title: Name of the file
        type: string
        fits_keyword: FILENAME
        blend_table: True
      filetype:
        title: Type of data in the file
        type: string
        fits_keyword: FILETYPE
        blend_table: True
      data_processing_software_version:
        title: Data processing software version number
        type: string
        fits_keyword: SDP_VER
        blend_table: True
      prd_software_version:
        title: S&OC PRD version number used in data processing
        type: string
        fits_keyword: PRD_VER
        blend_table: True
      calibration_software_version:
        title: Calibration software version number
        type: string
        fits_keyword: CAL_VER
        blend_table: True
      calibration_software_revision:
        title: Calibration software version control sys number
        type: string
        fits_keyword: CAL_VCS
        blend_table: True
      model_type:
        title: Type of data model
        type: string
        fits_keyword: DATAMODL
        blend_table: True
      telescope:
        title: Telescope used to acquire the data
        type: string
        fits_keyword: TELESCOP
        blend_table: True
      hga_move:
        title: High Gain Antenna moved during data collection
        type: boolean
        fits_keyword: HGA_MOVE
        blend_table: True
      hga_start_time:
        title: Start time of HGA motion
        type: string
        fits_keyword: HGA_STRT
        blend_table: True
      hga_stop_time:
        title: Stop time of HGA motion
        type: string
        fits_keyword: HGA_STOP
        blend_table: True
      pwfseet:
        title: Previous WFS exposure end time
        type: number
        fits_keyword: PWFSEET
        blend_table: True
      nwfsest:
        title: Next WFS exposure start time
        type: number
        fits_keyword: NWFSEST
        blend_table: True
      asn:
        title: Association information
        type: object
        properties:
          pool_name:
            title: Name of the ASN pool
            type: string
            fits_keyword: ASNPOOL
            blend_table: True
          table_name:
            title: Name of the ASN table
            type: string
            fits_keyword: ASNTABLE
            blend_table: True
      program:
        title: Program information
        type: object
        properties:
          title:
            title: Proposal title
            type: string
            fits_keyword: TITLE
            blend_table: True
          pi_name:
            title: Principal investigator name
            type: string
            fits_keyword: PI_NAME
            blend_table: True
          category:
            title: Program category
            type: string
            fits_keyword: CATEGORY
            blend_table: True
          sub_category:
            title: Program sub-category
            type: string
            fits_keyword: SUBCAT
            blend_table: True
          science_category:
            title: Science category assigned during TAC process
            type: string
            fits_keyword: SCICAT
            blend_table: True
          continuation_id:
            title: Continuation of previous program
            type: integer
            fits_keyword: CONT_ID
            blend_table: True
      observation:
        title: Observation identifiers
        type: object
        properties:
          date:
            title: "[yyyy-mm-dd] UTC date at start of exposure"
            type: string
            fits_keyword: DATE-OBS
            blend_table: True
            blend_rule: mindate
          time:
            title: "[hh:mm:ss.sss] UTC time at start of exposure"
            type: string
            fits_keyword: TIME-OBS
            blend_table: True
            blend_rule: mintime
          date_beg:
            type: string
            title: "Date-time start of exposure"
            fits_keyword: DATE-BEG
            blend_table: True
            # Despite what the title might lead you to believe, this keyword
            # actually contains a full datetime string.
            blend_rule: mindatetime
          date_end:
            type: string
            title: "Date-time end of exposure"
            fits_keyword: DATE-END
            blend_table: True
            # Despite what the title might lead you to believe, this keyword
            # actually contains a full datetime string.
            blend_rule: maxdatetime
          obs_id:
            title: Programmatic observation identifier
            type: string
            fits_keyword: OBS_ID
            blend_table: True
          visit_id:
            title: Visit identifier
            type: string
            fits_keyword: VISIT_ID
            blend_table: True
          program_number:
            title: Program number
            type: string
            fits_keyword: PROGRAM
            blend_table: True
          observation_number:
            title: Observation number
            type: string
            fits_keyword: OBSERVTN
            blend_table: True
          visit_number:
            title: Visit number
            type: string
            fits_keyword: VISIT
            blend_table: True
          visit_group:
            title: Visit group identifier
            type: string
            fits_keyword: VISITGRP
            blend_table: True
          sequence_id:
            title: Parallel sequence identifier
            type: string
            fits_keyword: SEQ_ID
            blend_table: True
          activity_id:
            title: Activity identifier
            type: string
            fits_keyword: ACT_ID
            blend_table: True
          exposure_number:
            title: Exposure request number
            type: string
            fits_keyword: EXPOSURE
            blend_table: True
          bkgdtarg:
            title: Background target
            type: boolean
            fits_keyword: BKGDTARG
            blend_table: True
          template:
            title: Observation template used
            type: string
            fits_keyword: TEMPLATE
            blend_table: True
          observation_label:
            title: Proposer label for the observation
            type: string
            fits_keyword: OBSLABEL
            blend_table: True
          observation_folder:
            title: Name of the APT observation folder
            type: string
            fits_keyword: OBSFOLDR
      visit:
        title: Visit information
        type: object
        properties:
          engineering_quality:
            title: Engineering data quality indicator from EngDB
            type: string
            enum: [OK, SUSPECT]
            fits_keyword: ENG_QUAL
            blend_table: True
          pointing_engdb_quality:
            title: Quality of pointing information from EngDB
            type: string
            enum: [CALCULATED, PLANNED]
            fits_keyword: ENGQLPTG
            blend_table: True
          type:
            title: Visit type
            type: string
            enum: [GENERIC, PARALLEL_DARK_CALIBRATION, PARALLEL_EXTERNAL_CALIBRATION,
                   PARALLEL_PURE, PARALLEL_SLEW_CALIBRATION, PRIME_STATION_KEEPING,
                   PRIME_TARGETED_FIXED, PRIME_TARGETED_MOVING, PRIME_UNTARGETED,
                   PRIME_WFSC_ROUTINE, PRIME_WFSC_SENSING_CONTROL,
                   PRIME_WFSC_SENSING_ONLY, PRIOR_MOMENTUM_UNLOAD]
            fits_keyword: VISITYPE
            blend_table: True
          start_time:
            title: UTC visit start time
            type: string
            fits_keyword: VSTSTART
            blend_table: True
          status:
            title: Status of a visit
            type: string
            fits_keyword: VISITSTA
            blend_table: True
          total_exposures:
            title: Total number of planned exposures in visit
            type: integer
            fits_keyword: NEXPOSUR
            blend_table: True
          internal_target:
            title: At least one exposure in visit is internal
            type: boolean
            fits_keyword: INTARGET
            blend_table: True
          too_visit:
            title: Visit scheduled as target of opportunity
            type: boolean
            fits_keyword: TARGOOPP
            blend_table: True
          tsovisit:
            title: Time Series Observation visit indicator
            type: boolean
            fits_keyword: TSOVISIT
            blend_table: True
          exp_only:
            title: Special commanding without SI configuration
            type: boolean
            fits_keyword: EXP_ONLY
            blend_table: True
          crowded_field:
            title: Are the FGSes in a crowded field?
            type: boolean
            fits_keyword: CROWDFLD
      target:
        title: Target information
        type: object
        properties:
          proposer_name:
            title: Proposer's name for the target
            type: string
            fits_keyword: TARGPROP
            blend_table: True
          catalog_name:
            title: Standard astronomical catalog name for target
            type: string
            fits_keyword: TARGNAME
            blend_table: True
          type:
            title: Type of target (fixed, moving, generic)
            type: string
            fits_keyword: TARGTYPE
            blend_table: True
          ra:
            title: Target RA at mid time of exposure
            type: number
            fits_keyword: TARG_RA
            blend_table: True
          dec:
            title: Target Dec at mid time of exposure
            type: number
            fits_keyword: TARG_DEC
            blend_table: True
          ra_uncertainty:
            title: Target RA uncertainty
            type: number
            fits_keyword: TARGURA
            blend_table: True
          dec_uncertainty:
            title: Target Dec uncertainty
            type: number
            fits_keyword: TARGUDEC
            blend_table: True
          proper_motion_ra:
            title: Target proper motion in RA
            type: number
            fits_keyword: MU_RA
            blend_table: True
          proper_motion_dec:
            title: Target proper motion in Dec
            type: number
            fits_keyword: MU_DEC
            blend_table: True
          proper_motion_epoch:
            title: Target proper motion epoch
            type: string
            fits_keyword: MU_EPOCH
            blend_table: True
          proposer_ra:
            title: Proposer's target RA
            type: number
            fits_keyword: PROP_RA
            blend_table: True
          proposer_dec:
            title: Proposer's target Dec
            type: number
            fits_keyword: PROP_DEC
            blend_table: True
          source_type_apt:
            title: Source type from APT (point/extended)
            type: string
            enum: [EXTENDED, POINT, UNKNOWN]
            fits_keyword: SRCTYAPT
            blend_table: True
          source_type:
            title: Source type used for calibration
            type: string
            enum: [EXTENDED, POINT, UNKNOWN]
            fits_keyword: SRCTYPE
            fits_hdu: SCI
      instrument:
        title: Instrument configuration information
        type: object
        properties:
          name:
            title: Instrument used to acquire the data
            type: string
            enum: [NIRCAM, NIRSPEC, MIRI, TFI, FGS, NIRISS, ANY, N/A]
            fits_keyword: INSTRUME
            blend_table: True
          detector:
            title: Name of detector used to acquire the data
            type: string
            enum: [NRCA1, NRCA2, NRCA3, NRCA4, NRCALONG, NRCB1, NRCB2, NRCB3, NRCB4,
              NRCBLONG, NRS1, NRS2, ANY, MIRIMAGE, MIRIFULONG, MIRIFUSHORT,
              NIS, GUIDER1, GUIDER2, N/A, MULTIPLE]
            fits_keyword: DETECTOR
            blend_table: True
            blend_rule: multi
          module:
            title: 'NIRCam module: A, B, or MULTIPLE'
            type: string
            enum: [A, B, MULTIPLE]
            fits_keyword: MODULE
            blend_table: True
            blend_rule: multi
          channel:
            title: Instrument channel
            type: string
            # Values grouped by instrument:
            anyOf:
              # MIRI
              - enum:
                 ['1', '2', '3', '4', '12', '34', '123', '234', '1234']
              # NIRCam
              - enum:
                  [LONG, SHORT]
              # All
              - enum:
                  [ANY, N/A]
            fits_keyword: CHANNEL
            blend_table: True
          filter:
            title: Name of the filter element used
            type: string
            enum: [ANY, CLEAR, F070LP, F070W, F090W, F1000W, F100LP, F1065C,
              F110W, F1130W, F1140C, F115W, F1280W, F140M, F140X, F1500W, F150W,
              F150W2, F1550C, F170LP, F1800W, F182M, F187N, F200W, F2100W, F210M,
              F212N, F2300C, F250M, F2550W, F2550WR, F277W, F290LP, F300M,
              F322W2, F335M, F356W, F360M, F380M, F410M, F430M, F444W,
              F460M, F480M, F560W, F770W, FLENS, FND, GR150C,
              GR150R, OPAQUE, P750L, WLP4, N/A, MULTIPLE]
            fits_keyword: FILTER
            blend_table: True
            blend_rule: multi
          pupil:
            title: Name of the pupil element used
            type: string
            enum: [ANY, CLEAR, CLEARP, F090W, F115W, F140M, F150W, F158M, F162M, F164N,
              F200W, F323N, F405N, F466N, F470N, FLAT, GDHS0, GDHS60, GR700XD,
              GRISMC, GRISMR, GRISMV2, GRISMV3, MASKBAR, MASKIPR, MASKRND, NRM, PINHOLES,
              WLM8, WLP8, N/A]
            fits_keyword: PUPIL
            blend_table: True
          pupil_imaging_lens:
            title: Pupil imaging lens in the optical path?
            type: boolean
            fits_keyword: PILIN
            blend_table: True
          grating:
            title: Name of the grating element used
            type: string
            enum: [G140M, G235M, G395M, G140H, G235H, G395H, PRISM, MIRROR, N/A, ANY, UNKNOWN, MULTIPLE]
            fits_keyword: GRATING
            blend_table: True
            blend_rule: multi
          band:
            title: MRS wavelength band
            type: string
            enum: [SHORT, MEDIUM, LONG, SHORT-MEDIUM, SHORT-LONG, MEDIUM-SHORT,
              MEDIUM-LONG, LONG-SHORT, LONG-MEDIUM, N/A, ANY, MULTIPLE]
            fits_keyword: BAND
            blend_table: True
            blend_rule: multi
          fixed_slit:
            title: Name of fixed slit aperture used
            type: string
            enum: [S200A1, S200A2, S200B1, S400A1, S1600A1, NONE]
            fits_keyword: FXD_SLIT
            blend_table: True
          focus_position:
            title: Focus position
            type: number
            fits_keyword: FOCUSPOS
            blend_table: True
          pre_image_id:
            title: Pre-image ID from PPS DB
            type: string
            fits_keyword: PREIMAGE
            blend_table: True
          ccc_state:
            title: Contamination control cover state
            type: string
            enum: [OPEN, CLOSED, LOCKED, UNKNOWN]
            fits_keyword: CCCSTATE
            blend_table: True
          coronagraph:
            title: coronagraph mask used
            type: string
            anyOf:
              # MIRI
              - enum:
                  [4QPM, 4QPM_1065, 4QPM_1140, 4QPM_1550,
                   LYOT, LYOT_2300]
              # NIRCam
              - enum:
                  [MASKA210R, MASKA335R, MASKA430R, MASKALWB, MASKASWB]
              # All
              - enum:
                  [NONE]
              # Obsolete NIRCam
              - enum:
                  [MASK210R, MASK335R, MASK430R, MASKLWB, MASKSWB]
            fits_keyword: CORONMSK
            blend_table: True
          msa_state:
            title: State of the MSA
            type: string
            #enum: [ALL OPEN, ALL CLOSED, CONFIGURED]
            fits_keyword: MSASTATE
            blend_table: True
          msa_metadata_file:
            title: MSA metadata file name
            type: string
            fits_keyword: MSAMETFL
            blend_table: True
          msa_metadata_id:
            title: MSA metadata ID
            type: integer
            fits_keyword: MSAMETID
            blend_table: True
          msa_configuration_id:
            title: MSA configuration ID
            type: integer
            fits_keyword: MSACONID
            blend_table: True
          lamp_state:
            title: Internal lamp state
            type: string
            fits_keyword: LAMP
            blend_table: True
          lamp_mode:
            title: Lamp operating mode
            type: string
            default: 'NONE'
            enum: [BRIGHTOBJ, FIXEDSLIT, GRATING-ONLY, IFU, MSASPEC, 'NONE']
            fits_keyword: OPMODE
            blend_table: True
          gwa_xtilt:
            title: Grating Y tilt angle relative to mirror
            type: number
            fits_keyword: GWA_XTIL
            blend_table: True
          gwa_ytilt:
            title: Grating X tilt angle relative to mirror
            type: number
            fits_keyword: GWA_YTIL
            blend_table: True
          gwa_xp_v:
            title: GWA X-position/tilt sensor calib
            type: number
            fits_keyword: GWA_XP_V
            blend_table: True
          gwa_yp_v:
            title: GWA Y-position/tilt sensor calib
            type: number
            fits_keyword: GWA_YP_V
            blend_table: True
          gwa_pxav:
            title: GWA REC avg X-pos/tilt sensor calib
            type: number
            fits_keyword: GWA_PXAV
            blend_table: True
          gwa_pyav:
            title: GWA REC avg Y-pos/tilt sensor calib
            type: number
            fits_keyword: GWA_PYAV
            blend_table: True
          gwa_tilt:
            title: "[K] GWA TILT (avg/calib) temperature"
            type: number
            fits_keyword: GWA_TILT
            blend_table: True
          filter_position:
            title: NIRISS filter wheel position
            type: number
            fits_keyword: FWCPOS
            blend_table: True
          pupil_position:
            title: NIRISS pupil wheel position
            type: number
            fits_keyword: PWCPOS
            blend_table: True
      exposure:
        title: Exposure parameters
        type: object
        properties:
          count:
            title: Running count of exposures in visit
            type: integer
            fits_keyword: EXPCOUNT
            blend_table: True
          prime_parallel:
            title: Prime or parallel exposure
            type: string
            enum: [PRIME, PARALLEL_COORDINATED, PARALLEL_PURE]
            fits_keyword: EXPRIPAR
            blend_table: True
          type:
            title: Type of data in the exposure
            type: string
            enum:
              # FGS science
             [FGS_DARK, FGS_FOCUS, FGS_IMAGE, FGS_INTFLAT, FGS_SKYFLAT,
              # FGS guide star
              FGS_ACQ1, FGS_ACQ2, FGS_FINEGUIDE, FGS_ID-IMAGE, FGS_ID-STACK, FGS_TRACK,
              # MIRI
              MIR_4QPM, MIR_CORONCAL, MIR_DARKALL, MIR_DARKIMG, MIR_DARKMRS,
              MIR_FLATIMAGE, MIR_FLATIMAGE-EXT, MIR_FLATMRS, MIR_FLATMRS-EXT,
              MIR_IMAGE, MIR_LRS-FIXEDSLIT, MIR_LRS-SLITLESS, MIR_LYOT, MIR_MRS,
              MIR_TACONFIRM, MIR_TACQ,
              # NIRISS
              NIS_AMI, NIS_DARK, NIS_EXTCAL, NIS_FOCUS, NIS_IMAGE, NIS_LAMP,
              NIS_SOSS, NIS_TACQ, NIS_TACONFIRM, NIS_WFSS,
              # NIRCam
              NRC_CORON, NRC_DARK, NRC_FLAT, NRC_FOCUS, NRC_GRISM, NRC_IMAGE, NRC_WFSS,
              NRC_LED, NRC_WFSC, NRC_TACONFIRM, NRC_TACQ, NRC_TSGRISM, NRC_TSIMAGE,
              # NIRSpec
              NRS_AUTOFLAT, NRS_AUTOWAVE, NRS_BRIGHTOBJ, NRS_CONFIRM, NRS_DARK,
              NRS_FIXEDSLIT, NRS_FOCUS, NRS_IFU, NRS_IMAGE, NRS_LAMP, NRS_MIMF,
              NRS_MSASPEC, NRS_MSATA, NRS_TACONFIRM, NRS_TACQ, NRS_TASLIT,
              NRS_VERIFY, NRS_WATA,
              # Misc
              N/A, ANY]
            fits_keyword: EXP_TYPE
            blend_table: True
          start_time:
            title: UTC exposure start time
            type: number
            fits_keyword: EXPSTART
            blend_table: True
            blend_rule: min
          start_time_mjd:
            title: "[d] exposure start time in MJD"
            type: number
            fits_keyword: MJD-BEG
            fits_hdu: SCI
            blend_table: True
            blend_rule: min
          mid_time:
            title: UTC exposure mid time
            type: number
            fits_keyword: EXPMID
            blend_table: True
            blend_rule: mean
          mid_time_mjd:
            title: "[d] exposure mid-point in MJD"
            type: number
            fits_keyword: MJD-AVG
            fits_hdu: SCI
            blend_table: True
            blend_rule: mean
          end_time:
            title: UTC exposure end time
            type: number
            fits_keyword: EXPEND
            blend_table: True
            blend_rule: max
          end_time_mjd:
            title: "[d] exposure end time in MJD"
            type: number
            fits_keyword: MJD-END
            fits_hdu: SCI
            blend_table: True
            blend_rule: max
          start_time_tdb:
            title: "[d] TDB time of exposure start in MJD"
            type: number
            fits_keyword: TDB-BEG
            fits_hdu: SCI
            blend_table: True
            blend_rule: min
          mid_time_tdb:
            title: "[d] TDB time of exposure mid-point in MJD"
            type: number
            fits_keyword: TDB-MID
            fits_hdu: SCI
            blend_table: True
            blend_rule: mean
          end_time_tdb:
            title: "[d] TDB time of exposure end in MJD"
            type: number
            fits_keyword: TDB-END
            fits_hdu: SCI
            blend_table: True
            blend_rule: max
          start_time_eng:
            title: UTC exposure start time from engineering data
            type: string
            fits_keyword: EXPSTENG
          osf_file:
            title: Observatory Status File name covering this exposure
            type: string
            fits_keyword: OSF_FILE
          readpatt:
            title: Readout pattern
            type: string
            enum: [ACQ1, ACQ2, BRIGHT1, BRIGHT2, DEEP2, DEEP8, FAST,
              FASTGRPAVG, FASTGRPAVG8, FASTGRPAVG16, FASTGRPAVG32, FASTGRPAVG64,
              FGS, FGS60, FGS8370, FGS840, FGSRAPID, FINEGUIDE,
              ID, MEDIUM2, MEDIUM8, NIS, NISRAPID,
              NRS, NRSIRS2, NRSN16R4, NRSN32R8, NRSN8R2,
              NRSRAPID, NRSIRS2RAPID, NRSRAPIDD1, NRSRAPIDD2, NRSRAPIDD6,
              NRSSLOW, RAPID, SHALLOW2, SHALLOW4, SLOW, TRACK, ANY, N/A]
            fits_keyword: READPATT
            blend_table: True
          segment_number:
            title: Sequential segment number
            type: integer
            fits_keyword: EXSEGNUM
            blend_table: True
            blend_rule: first
          segment_total:
            title: Total number of segments
            type: integer
            fits_keyword: EXSEGTOT
            blend_table: True
          noutputs:
            title: Number of detector outputs used
            type: integer
            enum: [1, 4]
            fits_keyword: NOUTPUTS
            blend_table: True
          nints:
            title: Number of integrations in exposure
            type: integer
            fits_keyword: NINTS
            blend_table: True
          integration_start:
            title: Starting integration number in this segment
            type: integer
            fits_keyword: INTSTART
            blend_table: True
            blend_rule: min
          integration_end:
            title: Ending integration number in this segment
            type: integer
            fits_keyword: INTEND
            blend_table: True
            blend_rule: max
          ngroups:
            title: Number of groups in integration
            type: integer
            fits_keyword: NGROUPS
            blend_table: True
          nframes:
            title: Number of frames per group
            type: integer
            fits_keyword: NFRAMES
            blend_table: True
          miri_fsw_ngroups:
            title: MIRI flight system number of groups
            type: integer
            fits_keyword: MIRNGRPS
            blend_table: True
          miri_fsw_nframes:
            title: MIRI flight system number of frames
            type: integer
            fits_keyword: MIRNFRMS
            blend_table: True
          frame_divisor:
            title: Divisor applied to frame-averaged groups
            type: integer
            fits_keyword: FRMDIVSR
            blend_table: True
          groupgap:
            title: Number of frames dropped between groups
            type: integer
            fits_keyword: GROUPGAP
            blend_table: True
          drop_frames1:
            title: Frames dropped at start of each integration
            type: integer
            fits_keyword: DRPFRMS1
            blend_table: True
          drop_frames3:
            title: Frames dropped at end of each integration
            type: integer
            fits_keyword: DRPFRMS3
            blend_table: True
          nsamples:
            title: Number of A/D samples per pixel
            type: integer
            fits_keyword: NSAMPLES
            blend_table: True
          sample_time:
            title: "[us] Time between samples"
            type: number
            fits_keyword: TSAMPLE
            blend_table: True
          frame_time:
            title: "[s] Time between frames"
            type: number
            fits_keyword: TFRAME
            blend_table: True
          group_time:
            title: "[s] Time between groups"
            type: number
            fits_keyword: TGROUP
            blend_table: True
          integration_time:
            title: "[s] Effective integration time"
            type: number
            fits_keyword: EFFINTTM
            blend_table: True
          exposure_time:
            title: "[s] Effective exposure time"
            type: number
            fits_keyword: EFFEXPTM
            blend_rule: sum
            blend_table: True
          effective_exposure_time:
            title: "[s] Effective exposure time"
            type: number
            fits_keyword: XPOSURE
            fits_hdu: SCI
            blend_rule: sum
            blend_table: True
          duration:
            title: "[s] Total duration of exposure"
            type: number
            fits_keyword: DURATION
            blend_rule: sum
            blend_table: True
          elapsed_exposure_time:
            title: "[s] Total elapsed exposure time"
            type: number
            fits_keyword: TELAPSE
            fits_hdu: SCI
            blend_rule: sum
            blend_table: True
          nresets_at_start:
            title: Number of resets at start of exposure
            type: integer
            fits_keyword: NRSTSTRT
            blend_table: True
          nresets_between_ints:
            title: Number of resets between integrations
            type: integer
            fits_keyword: NRESETS
            blend_table: True
          zero_frame:
            title: Zero frame was downlinked separately
            type: boolean
            fits_keyword: ZEROFRAM
            blend_table: True
          data_problem:
            title: Science telemetry indicated a problem
            type: boolean
            fits_keyword: DATAPROB
            blend_table: True
          sca_num:
            title: Sensor Chip Assembly number
            type: integer
            fits_keyword: SCA_NUM
            blend_table: True
          datamode:
            title: post-processing method used in FPAP
            type: integer
            fits_keyword: DATAMODE
            blend_table: True
          nrs_normal:
            title: Number of normal pixels in IRS2 readout
            type: integer
            fits_keyword: NRS_NORM
            blend_table: True
          nrs_reference:
            title: Number of reference pixels in IRS2 readout
            type: integer
            fits_keyword: NRS_REF
            blend_table: True
          clock_adjust_rate:
            title: "[ms/s] Spacecraft Clock Time Adjust RATE"
            type: number
            fits_keyword: SCTARATE
            blend_table: True
          gain_factor:
            title: Gain scale factor
            type: number
            fits_keyword: GAINFACT
            blend_table: True
          imprint:
            title: NIRSpec imprint exposure
            type: boolean
            fits_keyword: IS_IMPRT
            blend_table: True
          psf_reference:
            title: exposure is PSF reference
            type: boolean
            fits_keyword: IS_PSF
            blend_table: True
          self_reference_survey:
            title: self-referencing PSF
            type: boolean
            fits_keyword: SELFREF
            blend_table: True
      subarray:
        title: Subarray parameters
        type: object
        properties:
          name:
            title: Subarray used
            type: string
            # Values grouped by instrument:
            anyOf:
              # FGS
              - enum:
                 [8X8, 32X32, 128X128, 2048X64,
                  SUB128CNTR, SUB128DIAG, SUB128LL,
                  SUB32CNTR, SUB32DIAG, SUB32LL,
                  SUB8CNTR, SUB8DIAG, SUB8LL,
                  SUBIDSTRIPCENTER, SUBIDSTRIPLL,
                  SUBTUNE32CENTERG1, SUBTUNE32CENTERG2,
                  SUBTUNE32LLG1, SUBTUNE32LLG2]
              # MIRI
              - enum:
                 [BRIGHTSKY, MASK1065, MASK1140, MASK1550, MASKLYOT,
                  SLITLESSPRISM, SUB128, SUB256, SUB64, SUBPRISM]
              # NIRCam
              - enum:
                  [MASK210R, MASK335R, MASK430R, MASKLWB, MASKSWB,
                   SUB160, SUB160P, SUB320,
                   SUB320A335R, SUB320A430R, SUB320ALWB,
                   SUB320B335R, SUB320B430R, SUB320BLWB,
                   SUB32TATS, SUB32TATSGRISM,
                   SUB400P, SUB640,
                   SUB640A210R, SUB640ASWB, SUB640B210R, SUB640BSWB,
                   SUB64FP1A, SUB64FP1B, SUB64P,
                   SUB8FP1A, SUB8FP1B,
                   SUB96DHSPILA, SUB96DHSPILB,
                   SUBFSA210R, SUBFSA335R, SUBFSA430R, SUBFSALWB, SUBFSASWB,
                   SUBGRISM128, SUBGRISM256, SUBGRISM64,
                   SUBNDA210R, SUBNDA335R, SUBNDA430R,
                   SUBNDALWBL, SUBNDALWBS, SUBNDASWBL, SUBNDASWBS,
                   SUBNDB210R, SUBNDB335R, SUBNDB430R,
                   SUBNDBLWBL, SUBNDBLWBS, SUBNDBSWBL, SUBNDBSWBS]
              # Obsolete NIRCam
              - enum:
                  [MASKA210R, MASKA430R, MASKBLWB, MASKBSWB]
              # NIRISS
              - enum:
                  [SUB64, SUB80, SUB128, SUB256, SUBAMPCAL, SUBSTRIP96,
                   SUBSTRIP256, SUBTAAMI, SUBTASOSS, WFSS64C, WFSS64R,
                   WFSS128C, WFSS128R]
              # Obsolete NIRISS
              - enum:
                  [SUBSTRIP80]
              # NIRSpec
              - enum:
                  [ALLSLITS, SUBS200A1, SUBS200A2, SUBS200B1, SUBS400A1,
                   SUB1024A, SUB1024B, SUB512, SUB32, SUB512S, SUB2048]
              # Obsolete NIRSpec
              - enum:
                  [FULL_IRS2, S200A1, S200A2, S200B1, S400A1]
              # All
              - enum:
                  [FULL, GENERIC, N/A]
            fits_keyword: SUBARRAY
            blend_table: True
          xstart:
            title: Starting pixel in axis 1 direction
            type: integer
            fits_keyword: SUBSTRT1
            blend_table: True
          ystart:
            title: Starting pixel in axis 2 direction
            type: integer
            fits_keyword: SUBSTRT2
            blend_table: True
          xsize:
            title: Number of pixels in axis 1 direction
            type: integer
            fits_keyword: SUBSIZE1
            blend_table: True
          ysize:
            title: Number of pixels in axis 2 direction
            type: integer
            fits_keyword: SUBSIZE2
            blend_table: True
          fastaxis:
            title: Fast readout axis direction
            type: integer
            fits_keyword: FASTAXIS
            blend_table: True
          slowaxis:
            title: Slow readout axis direction
            type: integer
            fits_keyword: SLOWAXIS
            blend_table: True
          detxcor:
            title: Starting pixel in detector x-axis direction
            type: integer
            fits_keyword: DETXCOR
            blend_table: True
          detycor:
            title: Starting pixel in detector y-axis direction
            type: integer
            fits_keyword: DETYCOR
            blend_table: True
          detxsiz:
            title: Number of pixels in detector x-axis direction
            type: integer
            fits_keyword: DETXSIZ
            blend_table: True
          detysiz:
            title: Number of pixels in detector y-axis direction
            type: integer
            fits_keyword: DETYSIZ
            blend_table: True
      dither:
        title: Dither information
        type: object
        properties:
          primary_type:
            title: Primary dither pattern type
            type: string
            enum:
              # MIRI coron
             [5-POINT-SMALL-GRID, 9-POINT-SMALL-GRID,

              # MIRI imaging
              CYCLING, REULEAUX, SPARSE-CYCLING,
              2-POINT, 4-POINT-SETS,
              2-POINT-MIRI-F770W-WITH-NIRCam, 3-POINT-MIRI-F770W-WITH-NIRCam,
              4-POINT-MIRI-F770W-WITH-NIRCam, 9-POINT-MIRI-F770W-WITH-NIRCam,
              3-POINT-MIRI-F1000W-WITH-NIRCam, 4-POINT-MIRI-F1000W-WITH-NIRCam,
              2-POINT-MIRI-F1280W-WITH-NIRCam, 3-POINT-MIRI-F1280W-WITH-NIRCam,
              4-POINT-MIRI-F1280W-WITH-NIRCam, 9-POINT-MIRI-F1280W-WITH-NIRCam,
              2-POINT-MIRI-F1500W-WITH-NIRCam, 3-POINT-MIRI-F1500W-WITH-NIRCam,
              4-POINT-MIRI-F1500W-WITH-NIRCam, 9-POINT-MIRI-F1500W-WITH-NIRCam,
              2-POINT-MIRI-F1800W-WITH-NIRCam, 3-POINT-MIRI-F1800W-WITH-NIRCam,
              4-POINT-MIRI-F1800W-WITH-NIRCam,
              2-POINT-MIRI-F2100W-WITH-NIRCam, 3-POINT-MIRI-F2100W-WITH-NIRCam,
              4-POINT-MIRI-F2100W-WITH-NIRCam, 9-POINT-MIRI-F2100W-WITH-NIRCam,
              2-POINT-MIRI-F2550W-WITH-NIRCam, 3-POINT-MIRI-F2550W-WITH-NIRCam,
              4-POINT-MIRI-F2550W-WITH-NIRCam, 9-POINT-MIRI-F2550W-WITH-NIRCam,
              2-POINT-MIRI-F560W-WITH-NIRISS,
              3-POINT-MIRI-F770W-WITH-NIRISS, 4-POINT-MIRI-F770W-WITH-NIRISS,
              9-POINT-MIRI-F770W-WITH-NIRISS,
              3-POINT-MIRI-F1000W-WITH-NIRISS, 4-POINT-MIRI-F1000W-WITH-NIRISS,
              9-POINT-MIRI-F1000W-WITH-NIRISS,
              2-POINT-MIRI-F1280W-WITH-NIRISS, 3-POINT-MIRI-F1280W-WITH-NIRISS,
              4-POINT-MIRI-F1280W-WITH-NIRISS, 9-POINT-MIRI-F1280W-WITH-NIRISS,
              2-POINT-MIRI-F1800W-WITH-NIRISS, 3-POINT-MIRI-F1800W-WITH-NIRISS,
              4-POINT-MIRI-F1800W-WITH-NIRISS, 9-POINT-MIRI-F1800W-WITH-NIRISS,
              2-POINT-MIRI-F2100W-WITH-NIRISS, 3-POINT-MIRI-F2100W-WITH-NIRISS,
              4-POINT-MIRI-F2100W-WITH-NIRISS,
              2-POINT-MIRI-F2550W-WITH-NIRISS, 3-POINT-MIRI-F2550W-WITH-NIRISS,
              4-POINT-MIRI-F2550W-WITH-NIRISS, 9-POINT-MIRI-F2550W-WITH-NIRISS,

              # MIRI LRS slit
              7X3-PIXEL-MAP-CENTER, 7X3-PIXEL-MAP-NOD1, 7X3-PIXEL-MAP-NOD2,
              1PIXEL-SLIT-SCAN, 2PIXEL-SLIT-SCAN, 7PIXEL-SLIT-SCAN, 7PIX-5PIX-SLIT-SCAN,
              ALONG-SLIT-NOD, MAPPING,
              INTRAPIXEL-SLIT-SCAN-CENTER, INTRAPIXEL-SLIT-SCAN-NOD1, INTRAPIXEL-SLIT-SCAN-NOD2,
              LONG-CROSS-SCAN-CENTER, LONG-CROSS-SCAN-NOD1, LONG-CROSS-SCAN-NOD2,
              SHORT-CROSS-SCAN-CENTER, SHORT-CROSS-SCAN-NOD1, SHORT-CROSS-SCAN-NOD2,

              # MIRI LRS sliteless
              5PIXEL-8x4-MAP-SLITLESS, 7PIXEL-9x3-MAP-SLITLESS,
              5PIXEL-SLITLESS-SCAN, 7PIXEL-SLITLESS-SCAN,
              1PIXEL-SLITLESS-SCAN-LONG, 1PIXEL-SLITLESS-SCAN-SHORT,
              2PIXEL-SLITLESS-SCAN-SHORT,
              7x3-PIXEL-MAP-SLITLESS, 9x3-8x4-SCAN-MAPS-SLITLESS,

              # MIRI MRS
              2-POINT, 4-POINT,

              # NIRCam
              FULL, FULLBOX, FULL-TIGHT,
              INTRAMODULE, INTRAMODULEBOX, INTRAMODULEX, INTRASCA,
              SUBARRAY-DITHER, WFSC,

              # NIRISS
              AMI, IMAGING, MIMF, WFSS,
              NIS_NRC_2L, NIS_NRC_2M,
              NIS_NRC_3L, NIS_NRC_3M, NIS_NRC_3S,
              NIS_NRC_4L, NIS_NRC_4M, NIS_NRC_4S,
              NIS_NRC_9L, NIS_NRC_9M, NIS_NRC_9S,

              # NIRSpec FS, IFU, and MOS
              2-POINT-NOD, 3-POINT-NOD, 5-POINT-NOD,
              2-POINT-WITH-NIRCAM-SIZE1, 2-POINT-WITH-NIRCAM-SIZE2, 2-POINT-WITH-NIRCAM-SIZE3,
              3-POINT-WITH-NIRCAM-SIZE1, 3-POINT-WITH-NIRCAM-SIZE2, 3-POINT-WITH-NIRCAM-SIZE3,

              # NIRSpec IFU
              4-POINT-NOD, 4-POINT-DITHER, CYCLING, SPARSE-CYCLING,

              # Misc
              N/A, NONE, ANY]
            fits_keyword: PATTTYPE
            blend_table: True
          primary_dither_type:
            title: Primary dither points and packing
            type: string
            fits_keyword: PRIDTYPE
            blend_table: True
          primary_points:
            title: Number of points in primary dither pattern
            type: integer
            fits_keyword: PRIDTPTS
            blend_table: True
          position_number:
            title: Position number in primary pattern
            type: integer
            fits_keyword: PATT_NUM
            blend_table: True
          pattern_start:
            title: Starting point in pattern
            type: integer
            fits_keyword: PATTSTRT
            blend_table: True
          total_points:
            title: Total number of points in pattern
            type: integer
            fits_keyword: NUMDTHPT
            blend_table: True
          total_cycling_points:
            title: Number of points in CYCLING pattern
            type: integer
            fits_keyword: PATTNPTS
            blend_table: True
          dither_points:
            title: Total number of points in image dither pattern
            fits_keyword: NRIMDTPT
            blend_table: True
          pattern_size:
            title: "Primary dither pattern size"
            type: string
            fits_keyword: PATTSIZE
            blend_table: True
          small_grid_pattern:
            title: Name of small grid dither pattern
            type: string
            fits_keyword: SMGRDPAT
            blend_table: True
          subpixel_total_points:
            title: Number of points in subpixel dither pattern
            type: integer
            fits_keyword: SUBPXPTS
            blend_table: True
          subpixel_pattern:
            title: Subpixel dither pattern type
            type: string
            fits_keyword: SUBPXPAT
            blend_table: True
          spectral_position_number:
            title: Position number within spectral steps
            type: integer
            fits_keyword: SPEC_NUM
            blend_table: True
          spectral_total_points:
            title: Total number of steps in spectral direction
            type: integer
            fits_keyword: SPECNSTP
            blend_table: True
          spectral_step_size:
            title: Size of steps in spectral direction
            type: number
            fits_keyword: SPECSTEP
            blend_table: True
          spectral_offset:
            title: "[arcsec] Spectral offset from pattern start"
            type: number
            fits_keyword: SPCOFFST
            blend_table: True
          spatial_position_number:
            title: Position number within spatial steps
            type: integer
            fits_keyword: SPAT_NUM
            blend_table: True
          spatial_total_points:
            title: Total number of steps in spatial direction
            type: integer
            fits_keyword: SPATNSTP
            blend_table: True
          spatial_step_size:
            title: Size of steps in spatial direction
            type: number
            fits_keyword: SPATSTEP
            blend_table: True
          spatial_offset:
            title: "[arcsec] Spatial offset from pattern start"
            type: number
            fits_keyword: SPTOFFST
            blend_table: True
          x_offset:
            title: x offset from pattern starting position
            type: number
            fits_keyword: XOFFSET
            blend_table: True
          y_offset:
            title: y offset from pattern starting position
            type: number
            fits_keyword: YOFFSET
            blend_table: True
          starting_set:
            title: Starting 4-point set number
            type: integer
            enum: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
            fits_keyword: DSETSTRT
          number_of_sets:
            title: Total number of 4-point sets
            type: integer
            enum: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
            fits_keyword: NUMDSETS
          direction:
            title: Direction of dither pattern offsets
            type: string
            enum: [NEGATIVE, POSITIVE, NONE]
            fits_keyword: DITHDIRC
          optimized_for:
            title: Dither pattern optimization
            type: string
            enum: ["POINT-SOURCE", "EXTENDED-SOURCE", NONE]
            fits_keyword: DITHOPFR
          sparse_points:
            title: Sparse cycling dither points
            type: string
            fits_keyword: DITHPNTS
          primary_channel:
            title: MRS primary channel
            type: string
            enum: [ALL, CHANNEL1, CHANNEL2, CHANNEL3, CHANNEL4]
            fits_keyword: MRSPRCHN
          dither_points:
            title: Total number of points in primary dither pattern
            type: string
            fits_keyword: NDITHPTS
      ephemeris:
        title: JWST ephemeris information
        type: object
        properties:
          reference_frame:
            title: Ephemeris reference frame
            type: string
            fits_keyword: REFFRAME
            blend_table: True
          type:
            title: Definitive or Predicted
            type: string
            fits_keyword: EPH_TYPE
            blend_table: True
          time:
            title: UTC time of position and velocity vectors in ephemeris (MJD)
            type: number
            fits_keyword: EPH_TIME
            blend_table: True
          spatial_x:
            title: "[km] X spatial coordinate of JWST"
            type: number
            fits_keyword: JWST_X
            blend_table: True
          spatial_y:
            title: "[km] Y spatial coordinate of JWST"
            type: number
            fits_keyword: JWST_Y
            blend_table: True
          spatial_z:
            title: "[km] Z spatial coordinate of JWST"
            type: number
            fits_keyword: JWST_Z
            blend_table: True
          velocity_x:
            title: "[km/s] X component of JWST velocity"
            type: number
            fits_keyword: JWST_DX
            blend_table: True
          velocity_y:
            title: "[km/s] Y component of JWST velocity"
            type: number
            fits_keyword: JWST_DY
            blend_table: True
          velocity_z:
            title: "[km/s] Z component of JWST velocity"
            type: number
            fits_keyword: JWST_DZ
            blend_table: True
      aperture:
        title: Aperture information
        type: object
        properties:
          name:
            title: PRD science aperture used
            type: string
            fits_keyword: APERNAME
            blend_table: True
          pps_name:
            title: original AperName supplied by PPS
            type: string
            fits_keyword: PPS_APER
            blend_table: True
      velocity_aberration:
        title: Velocity aberration correction information
        type: object
        properties:
          ra_offset:
            title: "[rad] Velocity aberration correction RA offset"
            type: number
            fits_keyword: DVA_RA
            blend_table: True
          dec_offset:
            title: "[rad] Velocity aberration correction Dec offset"
            type: number
            fits_keyword: DVA_DEC
            blend_table: True
      time:
        title: Time information
        type: object
        properties:
          barycentric_correction:
            title: Barycentric time correction
            type: number
            fits_keyword: BARTDELT
            blend_table: True
          barycentric_expstart:
            title: Barycentric exposure start time
            type: number
            fits_keyword: BSTRTIME
            blend_table: True
          barycentric_expend:
            title: Barycentric exposure end time
            type: number
            fits_keyword: BENDTIME
            blend_table: True
          barycentric_expmid:
            title: Barycentric exposure mid time
            type: number
            fits_keyword: BMIDTIME
            blend_table: True
          heliocentric_correction:
            title: Heliocentric time correction
            type: number
            fits_keyword: HELIDELT
            blend_table: True
          heliocentric_expstart:
            title: Heliocentric exposure start time
            type: number
            fits_keyword: HSTRTIME
            blend_table: True
          heliocentric_expend:
            title: Heliocentric exposure end time
            type: number
            fits_keyword: HENDTIME
            blend_table: True
          heliocentric_expmid:
            title: Heliocentric exposure mid time
            type: number
            fits_keyword: HMIDTIME
            blend_table: True
      nircam_focus:
        title: NIRCam Focus Adjust Mechanism parameters
        type: object
        properties:
          fam_la1:
            title: position in steps of linear actuator 1
            type: integer
            fits_keyword: FAM_LA1
            blend_table: True
          fastep1:
            title: requested focus actuator 1 starting steps
            type: integer
            fits_keyword: FASTEP1
            blend_table: True
          faunit1:
            title: requested focus actuator 1 starting units
            type: number
            fits_keyword: FAUNIT1
            blend_table: True
          faphase1:
            title: requested focus actuator 1 starting phase
            type: string
            fits_keyword: FAPHASE1
            blend_table: True
          fa1value:
            title: requested focus actuator 1 position value
            type: integer
            fits_keyword: FA1VALUE
            blend_table: True
          fam_la2:
            title: position in steps of linear actuator 2
            type: integer
            fits_keyword: FAM_LA2
            blend_table: True
          fastep2:
            title: requested focus actuator 2 starting steps
            type: integer
            fits_keyword: FASTEP2
            blend_table: True
          faunit2:
            title: requested focus actuator 2 starting units
            type: number
            fits_keyword: FAUNIT2
            blend_table: True
          faphase2:
            title: requested focus actuator 2 starting phase
            type: string
            fits_keyword: FAPHASE2
            blend_table: True
          fa2value:
            title: requested focus actuator 2 position value
            type: integer
            fits_keyword: FA2VALUE
            blend_table: True
          fam_la3:
            title: position in steps of linear actuator 3
            type: integer
            fits_keyword: FAM_LA3
            blend_table: True
          fastep3:
            title: requested focus actuator 3 starting steps
            type: integer
            fits_keyword: FASTEP3
            blend_table: True
          faunit3:
            title: requested focus actuator 3 starting units
            type: number
            fits_keyword: FAUNIT3
            blend_table: True
          faphase3:
            title: requested focus actuator 3 starting phase
            type: string
            fits_keyword: FAPHASE3
            blend_table: True
          fa3value:
            title: requested focus actuator 3 position value
            type: integer
            fits_keyword: FA3VALUE
            blend_table: True
      nirspec_wfsc:
        title: NIRSpec WFS&C engineering keywords information
        type: object
        properties:
          rma_pos:
            title: Refocus Mechanism Assembly hall-position sensor value
            type: integer
            fits_keyword: RMA_POS
            blend_table: True
          rma_step:
            title: Refocus Mechanism Assembly relative position
            type: integer
            fits_keyword: FCSRLPOS
            blend_table: True
      guidestar:
        title: Guide star information
        type: object
        properties:
          gs_order:
            title: index of guide star within list of selected guide stars
            type: integer
            fits_keyword: GS_ORDER
            blend_table: True
          gs_start_time:
            title: UTC time when guide star activity started
            type: string
            fits_keyword: GSSTRTTM
            blend_table: True
          gs_stop_time:
            title: UTC time when guide star activity completed
            type: string
            fits_keyword: GSENDTIM
            blend_table: True
          gs_id:
            title: guide star identifier
            type: string
            fits_keyword: GDSTARID
            blend_table: True
          gs_ra:
            title: guide star right ascension
            type: number
            fits_keyword: GS_RA
            blend_table: True
          gs_dec:
            title: guide star declination
            type: number
            fits_keyword: GS_DEC
            blend_table: True
          gs_ura:
            title: guide star right ascension uncertainty
            type: number
            fits_keyword: GS_URA
            blend_table: True
          gs_udec:
            title: guide star declination uncertainty
            type: number
            fits_keyword: GS_UDEC
            blend_table: True
          gs_mag:
            title: guide star magnitude in FGS detector
            type: number
            fits_keyword: GS_MAG
            blend_table: True
          gs_umag:
            title: guide star magnitude uncertainty
            type: number
            fits_keyword: GS_UMAG
            blend_table: True
          gs_pcs_mode:
            title: Pointing Control System mode
            type: string
            enum: [COARSE, FINEGUIDE, MOVING, NONE, TRACK]
            fits_keyword: PCS_MODE
            blend_table: True
          visit_end_time:
            title: Observatory UTC time when the visit completed
            type: string
            fits_keyword: VISITEND
            blend_table: True
          gs_function_start_time:
            title: Observatory UTC time at guider function start
            type: string
            fits_keyword: GF_START
          gs_function_end_time:
            title: Observatory UTC time at guider function end
            type: string
            fits_keyword: GF_END
          data_start:
            title: MJD start time of guider data within this file
            type: number
            fits_keyword: DATASTRT
          data_end:
            title: MJD end time of guider data within this file
            type: number
            fits_keyword: DATAEND
          gs_acq_exec_stat:
            title: Guide star acquisition execution status
            type: string
            fits_keyword: GSACSTAT
            blend_table: True
          gs_ctd_x:
            title: "[arcsec] guide star centroid x position in FGS ideal frame"
            type: number
            fits_keyword: GSCENTX
            blend_table: True
          gs_ctd_y:
            title: "[arcsec] guide star centroid y position in FGS ideal frame"
            type: number
            fits_keyword: GSCENTY
            blend_table: True
          gs_epoch:
            title: Epoch of guide star coordinates
            type: string
            fits_keyword: GS_EPOCH
            blend_table: True
          gs_mura:
            title: Guide star IRCS right ascension proper motion
            type: number
            fits_keyword: GS_MURA
            blend_table: True
          gs_mudec:
            title: Guide star IRCS declination proper motion
            type: number
            fits_keyword: GS_MUDEC
            blend_table: True
          gs_para:
            title: Guide star annual parallax
            type: number
            fits_keyword: GS_PARA
            blend_table: True
      ref_file:
        title: Reference file information
        type: object
        properties:
          crds:
            title: CRDS parameters
            type: object
            properties:
              sw_version:
                title: Version of CRDS file selection software used
                type: string
                fits_keyword: CRDS_VER
                blend_table: True
              context_used:
                title: CRDS context (.pmap) used to select ref files
                type: string
                fits_keyword: CRDS_CTX
                blend_table: True
          area:
            title: Pixel area reference file information
            type: object
            properties:
              name:
                title: Pixel area reference file name
                type: string
                fits_keyword: R_AREA
                blend_table: True
          badshutter:
            title: NIRSpec bad shutter reference file information
            type: object
            properties:
              name:
                title: NIRSpec operability reference file name
                type: string
                fits_keyword: R_MSAOPE
                blend_table: True
          barshadow:
            title: Nirspec Bar shadow reference file information
            type: object
            properties:
              name:
                title: Nirspec Barshadow reference file name
                type: string
                fits_keyword: R_BARSHA
                blend_table: True
          camera:
            title: Nirspec Camera reference file information
            type: object
            properties:
              name:
                title: Nirspec Camera reference file name
                type: string
                fits_keyword: R_CAMERA
                blend_table: True
          collimator:
            title: Nirspec Collimator reference file information
            type: object
            properties:
              name:
                title: Nirspec Collimator reference file name
                type: string
                fits_keyword: R_COLLIM
                blend_table: True
          cubepar:
            title: IFU cube reference file information
            type: object
            properties:
              name:
                title: IFU cube parameters reference file name
                type: string
                fits_keyword: R_CUBPAR
                blend_table: True
          dark:
            title: Dark reference file information
            type: object
            properties:
              name:
                title: Dark reference file name
                type: string
                fits_keyword: R_DARK
                blend_table: True
          disperser:
            title: Disperser reference file information
            type: object
            properties:
              name:
                title: Disperser reference file name
                type: string
                fits_keyword: R_DISPER
                blend_table: True
          distortion:
            title: Distortion reference file information
            type: object
            properties:
              name:
                title: Distortion reference file name
                type: string
                fits_keyword: R_DISTOR
                blend_table: True
          drizpars:
            title: Drizzle parameters reference file information
            type: object
            properties:
              name:
                title: Drizzle parameters reference file name
                type: string
                fits_keyword: R_DRZPAR
                blend_table: True
          extract1d:
            title: 1-D extraction parameters reference file information
            type: object
            properties:
              name:
                title: 1-D extraction parameters reference file name
                type: string
                fits_keyword: R_EXTR1D
                blend_table: True
          filteroffset:
            title: Filter Offset reference file information
            type: object
            properties:
              name:
                title: Filter Offset reference file name
                type: string
                fits_keyword: R_FILOFF
                blend_table: True
          flat:
            title: Flat reference file information
            type: object
            properties:
              name:
                title: Flat reference file name
                type: string
                fits_keyword: R_FLAT
                blend_table: True
          dflat:
            title: DFlat reference file information
            type: object
            properties:
              name:
                title: DFlat reference file name
                type: string
                fits_keyword: R_DFLAT
                blend_table: True
          fflat:
            title: FFlat reference file information
            type: object
            properties:
              name:
                title: FFlat reference file name
                type: string
                fits_keyword: R_FFLAT
                blend_table: True
          sflat:
            title: SFlat reference file information
            type: object
            properties:
              name:
                title: SFlat reference file name
                type: string
                fits_keyword: R_SFLAT
                blend_table: True
          fore:
            title: Nirspec FORE Model reference file information
            type: object
            properties:
              name:
                title: Nirspec FORE Model reference file name
                type: string
                fits_keyword: R_FORE
                blend_table: True
          fpa:
            title: Nirspec FPA Model reference file information
            type: object
            properties:
              name:
                title: Nirspec FPA Model reference file name
                type: string
                fits_keyword: R_FPA
                blend_table: True
          fringe:
            title: Fringe reference file information
            type: object
            properties:
              name:
                title: Fringe reference file name
                type: string
                fits_keyword: R_FRINGE
                blend_table: True
          gain:
            title: Gain reference file information
            type: object
            properties:
              name:
                title: Gain reference file name
                type: string
                fits_keyword: R_GAIN
                blend_table: True
          ifufore:
            title: IFU fore reference file information
            type: object
            properties:
              name:
                title: ifufore reference file name
                type: string
                fits_keyword: R_IFUFOR
                blend_table: True
          ifupost:
            title: IFU post reference file information
            type: object
            properties:
              name:
                title: ifupost reference file name
                type: string
                fits_keyword: R_IFUPOS
                blend_table: True
          ifuslicer:
            title: IFU slicer reference file information
            type: object
            properties:
              name:
                title: ifuslicer reference file name
                type: string
                fits_keyword: R_IFUSLI
                blend_table: True
          ipc:
            title: IPC reference file information
            type: object
            properties:
              name:
                title: IPC reference file name
                type: string
                fits_keyword: R_IPC
                blend_table: True
          lastframe:
            title: Last frame reference file information
            type: object
            properties:
              name:
                title: Last Frame reference file name
                type: string
                fits_keyword: R_LASTFR
                blend_table: True
          linearity:
            title: Linearity reference file information
            type: object
            properties:
              name:
                title: Linearity reference file name
                type: string
                fits_keyword: R_LINEAR
                blend_table: True
          mask:
            title: Mask reference file information
            type: object
            properties:
              name:
                title: Mask reference file name
                type: string
                fits_keyword: R_MASK
                blend_table: True
          msa:
            title: Nirspec MSA Model reference file information
            type: object
            properties:
              name:
                title: Nirspec MSA Model reference file name
                type: string
                fits_keyword: R_MSA
                blend_table: True
          ote:
            title: Nirspec OTE Model reference file information
            type: object
            properties:
              name:
                title: Nirspec OTE Model reference file name
                type: string
                fits_keyword: R_OTE
                blend_table: True
          pathloss:
            title: Pathloss reference file information
            type: object
            properties:
              name:
                title: Pathloss reference file name
                type: string
                fits_keyword: R_PTHLOS
                blend_table: True
          persat:
            title: Persistence saturation reference file information
            type: object
            properties:
              name:
                title: Persistence saturation reference file name
                type: string
                fits_keyword: R_PERSAT
                blend_table: True
          photom:
            title: Photometric reference file information
            type: object
            properties:
              name:
                title: Photometric reference file name
                type: string
                fits_keyword: R_PHOTOM
                blend_table: True
          psfmask:
            title: PSF mask reference file information
            type: object
            properties:
              name:
                title: PSF mask reference file name
                type: string
                fits_keyword: R_PSFMAS
                blend_table: True
          readnoise:
            title: Read noise reference file information
            type: object
            properties:
              name:
                title: Read noise reference file name
                type: string
                fits_keyword: R_READNO
                blend_table: True
          refpix:
            title: Reference pixels reference file information
            type: object
            properties:
              name:
                title: Reference pixels reference file name
                type: string
                fits_keyword: R_REFPIX
                blend_table: True
          regions:
            title: Regions reference file information
            type: object
            properties:
              name:
                title: Regions reference file name
                type: string
                fits_keyword: R_REGION
                blend_table: True
          resample:
            title: Resample processing reference file information
            type: object
            properties:
              name:
                title: Resample parameters reference file name
                type: string
                fits_keyword: R_RESAMP
                blend_table: True
          resolution:
            title: MRS resolution reference file information
            type: object
            properties:
              name:
                title: MRS resolution reference file name
                type: string
                fits_keyword: R_RESOL
                blend_table: True
          reset:
            title: Reset reference file information
            type: object
            properties:
              name:
                title: Reset reference file name
                type: string
                fits_keyword: R_RESET
                blend_table: True
          rscd:
            title: RSCD reference file information
            type: object
            properties:
              name:
                title: RSCD reference file name
                type: string
                fits_keyword: R_RSCD
                blend_table: True
          saturation:
            title: Saturation reference file information
            type: object
            properties:
              name:
                title: Saturation reference file name
                type: string
                fits_keyword: R_SATURA
                blend_table: True
          specwcs:
            title: Spectral distortion reference file information
            type: object
            properties:
              name:
                title: Spectral distortion reference file name
                type: string
                fits_keyword: R_SPCWCS
                blend_table: True
          straylight:
            title: Straylight reference file information
            type: object
            properties:
              name:
                title: Straylight reference file name
                type: string
                fits_keyword: R_STRAY
                blend_table: True
          superbias:
            title: Superbias reference file information
            type: object
            properties:
              name:
                title: Superbias reference file name
                type: string
                fits_keyword: R_SUPERB
                blend_table: True
          throughput:
            title: Filter throughput reference file information
            type: object
            properties:
              name:
                title: Filter throughput reference file name
                type: string
                fits_keyword: R_THRPUT
                blend_table: True
          trapdensity:
            title: Trap density reference file information
            type: object
            properties:
              name:
                title: Trap density reference file name
                type: string
                fits_keyword: R_TRPDEN
                blend_table: True
          trappars:
            title: Trap parameters reference file information
            type: object
            properties:
              name:
                title: Trap parameters reference file name
                type: string
                fits_keyword: R_TRPPAR
                blend_table: True
          tso_photometry:
            title: TSO imaging photometry reference file information
            type: object
            properties:
              name:
                title: TSO imaging photometry reference file name
                type: string
                fits_keyword: R_TSPHOT
                blend_table: True
          v2v3:
            title: V2_V3 Model reference file information
            type: object
            properties:
              name:
                title: V2_V3 Model reference file name
                type: string
                fits_keyword: R_V2V3
                blend_table: True
          wavecorr:
            title: Zero point wavelength correction for Nirspec MOS and FS mode
            type: object
            properties:
              name:
                title: Zero point wavelength correction reference file name
                type: string
                fits_keyword: R_WAVCOR
                blend_table: True
          wavelengthrange:
            title: Wavelength Range reference file information
            type: object
            properties:
              name:
                title: Wavelength Range reference file name
                type: string
                fits_keyword: R_WAVRAN
                blend_table: True
      cal_step:
        title: Calibration step information
        type: object
        properties:
          align_psfs:
            title: Coronagraphic PSF Alignment
            type: string
            fits_keyword: S_PSFALI
            blend_table: True
          ami_analyze:
            title: AMI Fringe Analysis
            type: string
            fits_keyword: S_AMIANA
            blend_table: True
          ami_average:
            title: AMI Fringe Averaging
            type: string
            fits_keyword: S_AMIAVG
            blend_table: True
          ami_normalize:
            title: AMI Fringe Normalization
            type: string
            fits_keyword: S_AMINOR
            blend_table: True
          assign_wcs:
            title: Assign World Coordinate System
            type: string
            fits_keyword: S_WCS
            blend_table: True
          assign_mtwcs:
            title: Assign Moving Target World Coordinate System
            type: string
            fits_keyword: S_MTWCS
            blend_table: True
          back_sub:
            title: Background subtraction
            type: string
            fits_keyword: S_BKDSUB
            blend_table: True
          barshadow:
            title: Bar shadow correction
            type: string
            fits_keyword: S_BARSHA
            blend_table: True
          combine_1d:
            title: 1-D Spectral Combination
            type: string
            fits_keyword: S_COMB1D
            blend_table: True
          cube_build:
            title: IFU Cube Creation
            type: string
            fits_keyword: S_IFUCUB
            blend_table: True
          dark_sub:
            title: Dark Subtraction
            type: string
            fits_keyword: S_DARK
            blend_table: True
          dq_init:
            title: Data Quality Initialization
            type: string
            fits_keyword: S_DQINIT
            blend_table: True
          emission:
            title: Telescope Emission Correction
            type: string
            fits_keyword: S_TELEMI
            blend_table: True
          err_init:
            title: Error Initialization
            type: string
            fits_keyword: S_ERRINI
            blend_table: True
          extract_1d:
            title: 1-D Spectral Extraction
            type: string
            fits_keyword: S_EXTR1D
            blend_table: True
          extract_2d:
            title: 2-D Spectral Extraction
            type: string
            fits_keyword: S_EXTR2D
            blend_table: True
          firstframe:
            title: First Frame Correction
            type: string
            fits_keyword: S_FRSTFR
            blend_table: True
          flat_field:
            title: Flat Field Correction
            type: string
            fits_keyword: S_FLAT
            blend_table: True
          fringe:
            title: Fringe Correction
            type: string
            fits_keyword: S_FRINGE
            blend_table: True
          gain_scale:
            title: Gain Scale Correction
            type: string
            fits_keyword: S_GANSCL
            blend_table: True
          group_scale:
            title: Group Scale Correction
            type: string
            fits_keyword: S_GRPSCL
            blend_table: True
          guider_cds:
            title: Guide Mode CDS Computation
            type: string
            fits_keyword: S_GUICDS
            blend_table: True
          imprint:
            title: NIRSpec MSA Imprint Subtraction
            type: string
            fits_keyword: S_IMPRNT
            blend_table: True
          ipc:
            title: Interpixel Capacitance Correction
            type: string
            fits_keyword: S_IPC
            blend_table: True
          jump:
            title: Jump Detection
            type: string
            fits_keyword: S_JUMP
            blend_table: True
          klip:
            title: Coronagraphic PSF Subtraction
            type: string
            fits_keyword: S_KLIP
            blend_table: True
          lastframe:
            title: Last Frame Correction
            type: string
            fits_keyword: S_LASTFR
            blend_table: True
          linearity:
            title: Linearity Correction
            type: string
            fits_keyword: S_LINEAR
            blend_table: True
          master_background:
            title: Master Background Subtraction
            type: string
            fits_keyword: S_MSBSUB
            blend_table: True
          mrs_imatch:
            title: MIRI MRS background matching
            type: string
            fits_keyword: S_MRSMAT
            blend_table: True
          msa_flagging:
            title: NIRSpec MSA Stuck Shutter Flagging
            type: string
            fits_keyword: S_MSAFLG
            blend_table: True
          outlier_detection:
            title: Outlier Detection
            type: string
            fits_keyword: S_OUTLIR
            blend_table: True
          pathloss:
            title: Pathloss Correction
            type: string
            fits_keyword: S_PTHLOS
            blend_table: True
          persistence:
            title: Persistence Correction
            type: string
            fits_keyword: S_PERSIS
            blend_table: True
          photom:
            title: Photometric Calibration
            type: string
            fits_keyword: S_PHOTOM
            blend_table: True
          ramp_fit:
            title: Ramp Fitting
            type: string
            fits_keyword: S_RAMP
            blend_table: True
          refpix:
            title: Reference Pixel Correction
            type: string
            fits_keyword: S_REFPIX
            blend_table: True
          resample:
            title: Image resampling
            type: string
            fits_keyword: S_RESAMP
            blend_table: True
          reset:
            title: Reset Anomaly Correction
            type: string
            fits_keyword: S_RESET
            blend_table: True
          rscd:
            title: RSCD Correction
            type: string
            fits_keyword: S_RSCD
            blend_table: True
          saturation:
            title: Saturation Checking
            type: string
            fits_keyword: S_SATURA
            blend_table: True
          skymatch:
            title: Sky Background Equalization or Subtraction
            type: string
            fits_keyword: S_SKYMAT
            blend_table: True
          source_catalog:
            title: Source Photometry and Morphology
            type: string
            fits_keyword: S_SRCCAT
            blend_table: True
          srctype:
            title: Source Type Determination
            type: string
            fits_keyword: S_SRCTYP
            blend_table: True
          stack_psfs:
            title: Coronagraphic PSF Stacking
            type: string
            fits_keyword: S_PSFSTK
            blend_table: True
          straylight:
            title: Straylight Correction
            type: string
            fits_keyword: S_STRAY
            blend_table: True
          superbias:
            title: Superbias Subtraction
            type: string
            fits_keyword: S_SUPERB
            blend_table: True
          tso_photometry:
            title: TSO Imaging Photometry
            type: string
            fits_keyword: S_TSPHOT
            blend_table: True
          tweakreg:
            title: Image Alignment via Astronomical Sources
            type: string
            fits_keyword: S_TWKREG
            blend_table: True
          wavecorr:
            title: NIRSpec wavelength correction
            type: string
            fits_keyword: S_WAVCOR
            blend_table: True
          wfs_combine:
            title: Wavefront Sensing Combination
            type: string
            fits_keyword: S_WFSCOM
            blend_table: True
          white_light:
            title: TSO White-Light Curve
            type: string
            fits_keyword: S_WHTLIT
            blend_table: True
      tweakreg_catalog:
        title: Tweakreg catalog filename
        type: string
        fits_keyword: TCATFILE
      source_catalog:
        title: Source catalog filename
        type: string
        fits_keyword: SCATFILE
      resample:
        title: Resample Parameters
        type: object
        properties:
          pointings:
            title: "Number of groups/pointings included in resampled product"
            type: integer
            fits_keyword: NDRIZ
          product_exposure_time:
            title: "[s] Total exposure time for product"
            type: number
            fits_keyword: TEXPTIME
          weight_type:
            title: Type of drizzle weighting to use in resampling input
            type: string
            enum: [exptime, error]
            fits_keyword: RESWHT
      background:
        title: Background information
        type: object
        properties:
          level:
            title: Computed/Matched constant background level
            type: number
            fits_keyword: BKGLEVEL
            blend_table: True
          subtracted:
            title: Has background been subtracted from data?
            type: boolean
            fits_keyword: BKGSUB
            blend_table: True
          polynomial_info:
            title: List of background polynomial info for each channel
            type: array
            items:
              type: object
              properties:
                degree:
                  title: Max polynomial degree in each coordinate
                  type: array
                  items:
                    type: number
                refpoint:
                  title: Reference coordinates
                  type: array
                  items:
                    type: number
                coefficients:
                  title: Polynomial Coefficients
                  type: array
                  items:
                    type: number
                channel:
                  title: Channel ID
                  type: string
          master_background_file:
            title: Master background file used
            type: string
            fits_keyword: MASTERBG
